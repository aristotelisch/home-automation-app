<app-header></app-header>

<app-menu></app-menu>

<div class="normal-table-area">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="normal-table-list">
          <div class="basic-tb-hd">
            <h2>Devices' Table: </h2>
            <p>Edit all available devices</p>
          </div>
          <div class="bsc-tbl">
            <table class="table table-sc-ex">
              <tr>
                <!-- <th>id</th> -->
                <th>name</th>
                <th>status</th>
                <th>type</th>
                <th>information</th>
                <th>roomName</th>
                <th></th>
              </tr>
              <!--</table>-->
              <tr *ngFor="let device of devices">
                <!-- *** this column should be removed *** -->
                <!-- <td>
                <input [(ngModel)]="device.id" placeholder="{{device.id}}">
                </td>  -->
                <td>
                  <input [(ngModel)]="device.name" placeholder="{{device.name}}">
                </td>
                <td>
                  <input [(ngModel)]="device.status" size="8" placeholder="{{device.status}}">
                </td>
                <td>
                  <input [(ngModel)]="device.type" placeholder="{{device.type}}">
                </td>
                <td>
                  <input [(ngModel)]="device.information" placeholder="{{device.information}}">
                </td>
                <td>
                  <select class="rooms" [(ngModel)]="device.roomId" (ngModelChange)='onRoomUpdate(device)'>
                    <!-- <option disabled selected>{{device.roomName}}</option> -->
                    <option class="room" *ngFor='let room of rooms' [(value)]="room.id">{{room.name}}</option>
                  </select>
                  <!-- ADD ROOM NAME -->
                </td>

                <td>
                  <div class="btn-group-xs">
                    <button class="btn btn-warning btn-xs"(click)="updateDevice(device)"> Update </button>
                    <button class="btn btn-danger btn-xs"(click)="removeDevice(device)"> Delete </button>
                  </div>
                </td>


              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="normal-table-area">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="normal-table-list">
          <div class="bsc-tbl">
            <table class="table table-sc-ex">

              <tr>
                <!-- <input #id placeholder="id" />  -->
                <td>
                  <input #name placeholder="name" />
                </td>
                <td>
                  <input #status placeholder="status" />
                </td>
                <td>
                  <input #type placeholder="type" />
                </td>
                <td>
                  <input #information placeholder="information" />
                </td>

                <td>
                  <select class="rooms" required [(ngModel)]="selectedRoomId" (ngModelChange)='onRoomSelect()'>
                    <option class="room" *ngFor='let room of rooms' [value]="room.id">{{room.name}}</option>
                  </select>
                </td>


                <td>
                  <button class="btn btn-primary btn-sm"(click)="addDevice(name.value,status.value,type.value,information.value)"> Add Device </button>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<app-footer></app-footer>
